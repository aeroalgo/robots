# –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º–æ–¥—É–ª—è backtest

## –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
2025-01-XX

## –û–±–∑–æ—Ä
–ü–ª–∞–Ω —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º–æ–¥—É–ª—è `backtest` –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Rust best practices.

## –§–ê–ó–ê 2: –ü–†–û–ï–ö–¢–ò–†–û–í–ê–ù–ò–ï –†–ï–®–ï–ù–ò–ô

### üî¥ Critical: –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ - –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `container`

**–ü—Ä–æ–±–ª–µ–º–∞**: –í `BacktestEngine::new()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `container`, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Ñ—É–Ω–∫—Ü–∏–∏.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –£–¥–∞–ª–∏—Ç—å DI –ª–æ–≥–∏–∫—É (–ø—Ä–æ—Å—Ç–æ–π)**
- –£–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –±–ª–æ–∫ —Å `container`
- –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é
- **–ü–ª—é—Å—ã**: –ü—Ä–æ—Å—Ç–æ—Ç–∞, –±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **–ú–∏–Ω—É—Å—ã**: –ü–æ—Ç–µ—Ä—è –≥–∏–±–∫–æ—Å—Ç–∏, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–£—Å–∏–ª–∏—è**: –ù–∏–∑–∫–∏–µ (5 –º–∏–Ω—É—Ç)
- **–í–ª–∏—è–Ω–∏–µ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `container` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**
- –î–æ–±–∞–≤–∏—Ç—å `container: Option<Arc<ServiceContainer>>` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `BacktestExecutor::new_with_provider()`
- **–ü–ª—é—Å—ã**: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –≥–∏–±–∫–æ—Å—Ç—å, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
- **–ú–∏–Ω—É—Å—ã**: –¢—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è DI —Å–∏—Å—Ç–µ–º—ã
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (30 –º–∏–Ω—É—Ç)
- **–í–ª–∏—è–Ω–∏–µ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ + —É–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)

**–í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `new_with_provider()`**
- –û—Å—Ç–∞–≤–∏—Ç—å `new()` –±–µ–∑ DI
- –î–æ–±–∞–≤–∏—Ç—å `new_with_provider()` —Å DI
- **–ü–ª—é—Å—ã**: –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –≥–∏–±–∫–æ—Å—Ç—å
- **–ú–∏–Ω—É—Å—ã**: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (45 –º–∏–Ω—É—Ç)
- **–í–ª–∏—è–Ω–∏–µ**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ + —É–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –í–∞—Ä–∏–∞–Ω—Ç 2 - –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `container` –≤ `new()` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞.

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
1. –ò–∑–º–µ–Ω–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É `new()`: –¥–æ–±–∞–≤–∏—Ç—å `container: Option<Arc<ServiceContainer>>`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ `BacktestExecutor::new_with_provider()` –∫–∞–∫ –æ–±—Ä–∞–∑–µ—Ü
3. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã `BacktestEngine::new()` –≤ –∫–æ–¥–µ

---

### üî¥ Critical: –ù–∞—Ä—É—à–µ–Ω–∏–µ Single Responsibility Principle

**–ü—Ä–æ–±–ª–µ–º–∞**: `BacktestEngine` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**
- –°–æ–∑–¥–∞—Ç—å `BacktestOrchestrator` - –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É —Å–µ—Å—Å–∏–π –≤ `SessionManager`
- –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É equity –≤ `EquityCalculator`
- –û—Å—Ç–∞–≤–∏—Ç—å `BacktestEngine` —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏
- **–ü–ª—é—Å—ã**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –ª–µ–≥–∫–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ú–∏–Ω—É—Å—ã**: –ë–æ–ª—å—à–µ —Ñ–∞–π–ª–æ–≤, –±–æ–ª—å—à–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
- **–£—Å–∏–ª–∏—è**: –í—ã—Å–æ–∫–∏–µ (4-6 —á–∞—Å–æ–≤)
- **–í–ª–∏—è–Ω–∏–µ**: –í—ã—Å–æ–∫–æ–µ (—É–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –í—ã–Ω–µ—Å—Ç–∏ –º–µ—Ç–æ–¥—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**
- –°–æ–∑–¥–∞—Ç—å `SessionStateManager` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏
- –°–æ–∑–¥–∞—Ç—å `EquityCache` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è equity
- –û—Å—Ç–∞–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –≤ `BacktestEngine`
- **–ü–ª—é—Å—ã**: –ú–µ–Ω—å—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **–ú–∏–Ω—É—Å—ã**: –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (2-3 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ (—á–∞—Å—Ç–∏—á–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ)

**–í–∞—Ä–∏–∞–Ω—Ç 3: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç–æ–¥–æ–≤ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π)**
- –†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã –Ω–∞ –º–µ–Ω—å—à–∏–µ
- –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- **–ü–ª—é—Å—ã**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ú–∏–Ω—É—Å—ã**: –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **–£—Å–∏–ª–∏—è**: –ù–∏–∑–∫–∏–µ (1-2 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –ù–∏–∑–∫–æ–µ (—É–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –í–∞—Ä–∏–∞–Ω—Ç 1 - –ø–æ–ª–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏.

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
1. –°–æ–∑–¥–∞—Ç—å `src/backtest/session_manager.rs`:
   ```rust
   pub struct SessionManager {
       cached_duration: Option<chrono::Duration>,
   }
   
   impl SessionManager {
       pub fn session_state(&self, ...) -> Option<SessionState>;
       pub fn update_metadata(&self, context: &mut StrategyContext, state: SessionState);
   }
   ```

2. –°–æ–∑–¥–∞—Ç—å `src/backtest/equity_calculator.rs`:
   ```rust
   pub struct EquityCalculator {
       cached_equity: Option<f64>,
       last_equity_bar: usize,
   }
   
   impl EquityCalculator {
       pub fn calculate(&mut self, ...) -> f64;
   }
   ```

3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å `BacktestEngine` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

### üü† High: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –º–µ–∂–¥—É BacktestEngine –∏ BacktestExecutor

**–ü—Ä–æ–±–ª–µ–º–∞**: –î–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –ø–æ—Ö–æ–∂–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**
- –£–¥–∞–ª–∏—Ç—å `BacktestEngine`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `BacktestExecutor`
- –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –∏–∑ `BacktestEngine` –≤ `BacktestExecutor`
- **–ü–ª—é—Å—ã**: –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ú–∏–Ω—É—Å—ã**: –¢—Ä–µ–±—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- **–£—Å–∏–ª–∏—è**: –í—ã—Å–æ–∫–∏–µ (6-8 —á–∞—Å–æ–≤)
- **–í–ª–∏—è–Ω–∏–µ**: –í—ã—Å–æ–∫–æ–µ (—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å**
- –°–æ–∑–¥–∞—Ç—å `BacktestBase` —Å –æ–±—â–µ–π –ª–æ–≥–∏–∫–æ–π
- –ù–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç –Ω–µ–≥–æ –æ–±–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **–ü–ª—é—Å—ã**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±–æ–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- **–ú–∏–Ω—É—Å—ã**: Rust –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –Ω—É–∂–Ω—ã —Ç—Ä–µ–π—Ç—ã
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (3-4 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ (—á–∞—Å—Ç–∏—á–Ω–æ–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)

**–í–∞—Ä–∏–∞–Ω—Ç 3: –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ –º–æ–¥—É–ª–∏**
- –°–æ–∑–¥–∞—Ç—å `backtest::common` —Å –æ–±—â–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–±–æ–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **–ü–ª—é—Å—ã**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ú–∏–Ω—É—Å—ã**: –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **–£—Å–∏–ª–∏—è**: –ù–∏–∑–∫–∏–µ (2 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –ù–∏–∑–∫–æ–µ (—á–∞—Å—Ç–∏—á–Ω–æ–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –í–∞—Ä–∏–∞–Ω—Ç 1 - –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É `BacktestEngine` –∏ `BacktestExecutor`
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
3. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ `BacktestEngine` –≤ `BacktestExecutor`
4. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `BacktestEngine` –Ω–∞ `BacktestExecutor`
5. –£–¥–∞–ª–∏—Ç—å `BacktestEngine`

---

### üü† High: –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–µ—Ç–æ–¥—ã `run()`, `new()`, `step()` —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–µ–Ω—å—à–∏–µ –º–µ—Ç–æ–¥—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**
- –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `initialize_components()`
- –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É warmup –≤ `process_warmup()`
- –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞—Ä–æ–≤ –≤ `process_bar()`
- **–ü–ª—é—Å—ã**: –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏, –ª–µ–≥–∫–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ú–∏–Ω—É—Å—ã**: –ë–æ–ª—å—à–µ –º–µ—Ç–æ–¥–æ–≤
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (2-3 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –í—ã—Å–æ–∫–æ–µ (—É–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–∫—Ä–æ—Å—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –ª–æ–≥–∏–∫–∏**
- –°–æ–∑–¥–∞—Ç—å –º–∞–∫—Ä–æ—Å—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **–ü–ª—é—Å—ã**: –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞
- **–ú–∏–Ω—É—Å—ã**: –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ –º–∞–∫—Ä–æ—Å–æ–≤
- **–£—Å–∏–ª–∏—è**: –ù–∏–∑–∫–∏–µ (1 —á–∞—Å)
- **–í–ª–∏—è–Ω–∏–µ**: –ù–∏–∑–∫–æ–µ (–Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –í–∞—Ä–∏–∞–Ω—Ç 1 - —Ä–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏.

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
1. –†–∞–∑–±–∏—Ç—å `new()`:
   - `collect_required_timeframes()` - —Å–±–æ—Ä —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
   - `prepare_feed_manager()` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∏–¥–∞
   - `initialize_components()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

2. –†–∞–∑–±–∏—Ç—å `run()`:
   - `initialize_backtest()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
   - `process_warmup_phase()` - —Ñ–∞–∑–∞ –ø—Ä–æ–≥—Ä–µ–≤–∞
   - `process_trading_phase()` - —Ñ–∞–∑–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏
   - `finalize_backtest()` - —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

3. –†–∞–∑–±–∏—Ç—å `step()`:
   - `update_primary_timeframe()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¢–§
   - `align_higher_timeframes()` - –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—à–∏—Ö –¢–§

---

### üü° Medium: –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞**: 33 –≤—ã–∑–æ–≤–∞ `.clone()` –≤ –º–æ–¥—É–ª–µ.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**
- –ó–∞–º–µ–Ω–∏—Ç—å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ `TimeFrame` –Ω–∞ —Å—Å—ã–ª–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Cow<TimeFrame>` –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü–ª—é—Å—ã**: –°–Ω–∏–∂–µ–Ω–∏–µ –∞–ª–ª–æ–∫–∞—Ü–∏–π, —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ú–∏–Ω—É—Å—ã**: –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (3-4 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ (—É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Arc` –¥–ª—è —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
- –û–±–µ—Ä–Ω—É—Ç—å —á–∞—Å—Ç–æ –∫–ª–æ–Ω–∏—Ä—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `Arc`
- **–ü–ª—é—Å—ã**: –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–π
- **–ú–∏–Ω—É—Å—ã**: –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–æ–¥–∞, –ª–∏—à–Ω–∏–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (2-3 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ (—á–∞—Å—Ç–∏—á–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ)

**–í–∞—Ä–∏–∞–Ω—Ç 3: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≥–æ—Ä—è—á–∏–µ –ø—É—Ç–∏**
- –ù–∞–π—Ç–∏ –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ö
- **–ü–ª—é—Å—ã**: –§–æ–∫—É—Å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- **–ú–∏–Ω—É—Å—ã**: –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- **–£—Å–∏–ª–∏—è**: –í—ã—Å–æ–∫–∏–µ (4-5 —á–∞—Å–æ–≤)
- **–í–ª–∏—è–Ω–∏–µ**: –í—ã—Å–æ–∫–æ–µ (—Ç–æ—á–µ—á–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –í–∞—Ä–∏–∞–Ω—Ç 1 - —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–∞ —Å—Å—ã–ª–∫–∏.

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
1. –ù–∞–π—Ç–∏ –≤—Å–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è `TimeFrame` - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `&TimeFrame`
2. –ù–∞–π—Ç–∏ –≤—Å–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ü–∏–∫–ª–∞—Ö - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Cow<str>` –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

### üü° Medium: –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–¥–µ.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –í—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**
- –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å `backtest::constants`
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
- **–ü–ª—é—Å—ã**: –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏, –ª–µ–≥–∫–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ú–∏–Ω—É—Å—ã**: –ë–æ–ª—å—à–µ —Ñ–∞–π–ª–æ–≤
- **–£—Å–∏–ª–∏—è**: –ù–∏–∑–∫–∏–µ (30 –º–∏–Ω—É—Ç)
- **–í–ª–∏—è–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ (—É–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –í—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ `BacktestConfig`
- **–ü–ª—é—Å—ã**: –ì–∏–±–∫–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–ú–∏–Ω—É—Å—ã**: –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (1-2 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ (—É–ª—É—á—à–µ–Ω–∏–µ –≥–∏–±–∫–æ—Å—Ç–∏)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –í–∞—Ä–∏–∞–Ω—Ç 1 - –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã.

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
```rust
// src/backtest/constants.rs
pub const MIN_WARMUP_BARS: usize = 50;
pub const SESSION_CHECK_INTERVAL: usize = 10;
pub const EQUITY_CACHE_THRESHOLD: f64 = 0.01;
pub const EQUITY_UPDATE_INTERVAL: usize = 10;
```

---

### üü° Medium: –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: O(n) –ø–æ–∏—Å–∫ –≤ —Ü–∏–∫–ª–µ –≤ `FeedManager::step()`.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**
- –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å timestamps –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `binary_search` –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω–¥–µ–∫—Å–∞
- **–ü–ª—é—Å—ã**: O(log n) –≤–º–µ—Å—Ç–æ O(n)
- **–ú–∏–Ω—É—Å—ã**: –¢—Ä–µ–±—É–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- **–£—Å–∏–ª–∏—è**: –°—Ä–µ–¥–Ω–∏–µ (1-2 —á–∞—Å–∞)
- **–í–ª–∏—è–Ω–∏–µ**: –°—Ä–µ–¥–Ω–µ–µ (—É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã**
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å
- –ù–∞—á–∏–Ω–∞—Ç—å –ø–æ–∏—Å–∫ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
- **–ü–ª—é—Å—ã**: –£–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–ú–∏–Ω—É—Å—ã**: –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–£—Å–∏–ª–∏—è**: –ù–∏–∑–∫–∏–µ (30 –º–∏–Ω—É—Ç)
- **–í–ª–∏—è–Ω–∏–µ**: –ù–∏–∑–∫–æ–µ (—á–∞—Å—Ç–∏—á–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –í–∞—Ä–∏–∞–Ω—Ç 1 - –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

## –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –§–∞–∑–∞ 1: Critical (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å `container`
2. ‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å `BacktestEngine`

### –§–∞–∑–∞ 2: High (–≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è)
3. ‚úÖ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å `BacktestEngine` –∏ `BacktestExecutor`
4. ‚úÖ –†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã
5. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

### –§–∞–∑–∞ 3: Medium (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
6. ‚úÖ –£–º–µ–Ω—å—à–∏—Ç—å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
7. ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞
8. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### –§–∞–∑–∞ 4: Low (–º–æ–∂–Ω–æ –ø–æ–∑–∂–µ)
9. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Arc –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
10. –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ equity
11. –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–π—Ç—ã –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

## –ü–õ–ê–ù –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### –®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É

### –®–∞–≥ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –†–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏

### –®–∞–≥ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –£–º–µ–Ω—å—à–∏—Ç—å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### –®–∞–≥ 4: –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–∏–µ –º–µ—Ç–æ–¥—ã
- –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

