@startuml Генетический алгоритм - общая схема

!theme plain
skinparam backgroundColor #FFFFFF
skinparam defaultFontSize 12
skinparam roundcorner 10

title Генетический алгоритм оптимизации\n(основан на теории эволюции Дарвина)

start

:Создание начальной популяции\n(Generation 0);
note right: Случайные решения\n(например, 30 стратегий\nс разными параметрами)

:Оценка каждой особи\n(Fitness Evaluation);
note right: Backtest стратегии\nРасчет fitness\n(прибыль, Sharpe ratio, и т.д.)

partition "Эволюционный цикл" {
    :Селекция родителей\n(Selection);
    note right: Выбор лучших особей\nс высокой вероятностью\n(рулетка по fitness)
    
    :Скрещивание\n(Crossover);
    note right: Комбинирование параметров\nот двух родителей\nСоздание потомков
    
    :Мутация\n(Mutation);
    note right: Случайное изменение\nнекоторых параметров\nдля разнообразия
    
    :Оценка новых особей\n(Fitness Evaluation);
    note right: Тестирование потомков\nРасчет их fitness
    
    :Элитизм\n(Elitism);
    note right: Сохранение лучших\nособей в следующем\nпоколении
    
    :Замена слабых\n(Replacement);
    note right: Удаление худших\nЗамена на новых\nпотомков
}

if (Достигнуто максимальное\nколичество поколений?) then (нет)
    :Переход к следующему\nпоколению;
    note right: Generation N →\nGeneration N+1
    :Оценка каждой особи\n(Fitness Evaluation);
    repeat
    repeat while (Продолжать эволюцию?)
else (да)
    :Выбор лучших решений;
    note right: Топ стратегии\nс оптимизированными\nпараметрами
    stop
endif

@enduml




